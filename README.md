# Менеджер паролей и др. приватной информации

Клиент - серверное приложение.

## Сервер

Хранит данные пользователей в PostgreSQL. Предоставляет методы для регистрации и аутентификации; работы с данными.

Конфигурация читается из файла ```serverConfig.json```.

Пример конфигурации:
```json
{
  "MasterKey": "1d0e95ed9e11b59ba42200720c252f98d4cd440412926a0c15b6a95e03ab4480", // мастер ключ для шифрования ключей пользователей",
  "ServerAddress": ":8080", // адрес сервера
  "LogLevel": "debug", // уровень логирования
  "DSN": "postgresql://keeper:keeper@localhost:5412/keeper", // строка для подключения к БД
  "JWTConfig": {
    "LifeTime": 180, // Время жизни jwt в минутах
    "SecretKey": "some_jwt_secret_key", // ключ для подписи jwt
    "MetaKey": "jwt" // ключ в метаданных grpc запроса, в котором передается токен
  }
}
```

## Клиент

Клиент представляет собой cli приложение, реализованное с помощью cobra.

Конфигурация читается из файла ```clientConfig.json```.

Пример конфигурации:
```json
{
  "jwt": "jwt токен", // тут хранится текущий jwt - заполняется автоматически при аутентификации
  "jwtmetakey": "jwt", // ключ в метаданных grpc запроса, в котором передается токен
  "serveraddress": ":8080" // адрес сервера
}
```

Глобально команды делятся на две: 
 - ```user``` - для работы с аутентификацией (в том числе регистрация);
 - ```vault``` - для работы с данными в хранилище (сохранить, получить, удалить).

### Примеры команд ```user```

 - Регистрация нового пользователя
 ```sh
 gophkeeper user register -l "login" -p "password"
 ```
 - Аутентификация
 ```sh
 gophkeeper user login -l "login" -p "password"
 ```

 ### Примеры команд ```vault```

 - Получить список данных определенного типа (В примере получить пароли)
 ```sh
 gophkeeper vault getall -t PASSWORD
 ```

 - Загрузить данные (по id)
 ```sh
 gophkeeper vault get --id 00c15ce5-b86d-47ce-8298-710d875acbfd
 ```

 - Удалить данные (по id)
 ```sh
 gophkeeper vault delete --id 00c15ce5-b86d-47ce-8298-710d875acbfd
 ```

 - Добавить пароль
 ```sh
 gophkeeper vault add password -p "password" -l "login" -r "Название ресурса" -c "Комментарий"
 ```

 - Добавить текстовую информацию
 ```sh
 gophkeeper vault add text -t "Текст" -n "Название заметки" -c "Комментарий"
 ```

 - Добавить текстовую информацию
 ```sh
 gophkeeper vault add bcard -o "Владелец" -n "0000 0000 0000 0000" -s "CSV" -m 2 -y 25 -b "Банк" -c "Комментарий"
 ```

 - Добавить текстовую информацию
 ```sh
 gophkeeper vault add file -p "файл.расширение" -c "Комментарий"
 ```